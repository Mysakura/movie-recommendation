(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-255be21b"],{"071f":function(e,t,a){"use strict";var r=a("12b1"),s=a.n(r);s.a},"12b1":function(e,t,a){},5238:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form",{staticClass:"mb-15",attrs:{layout:"inline",form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"影院名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{}],expression:"['name',{}]"}]},[a("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"video-camera"},slot:"prefix"})],1)],1),a("a-form-item",{attrs:{label:"城市"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["region",{initialValue:0}],expression:"['region',{initialValue: 0}]"}],staticStyle:{width:"200px"},on:{change:e.handleChange}},e._l(e.provinceData,function(t){return a("a-select-option",{key:t.id},[e._v("\n                    "+e._s(t.name)+"\n                ")])}),1)],1),a("a-form-item",[a("a-button",{staticClass:"mr-15",attrs:{icon:"search",type:"primary","html-type":"submit"}},[e._v("\n                查询\n            ")]),a("a-button",{staticClass:"mb-15",attrs:{icon:"plus",type:"primary"},on:{click:e.showDrawer}},[e._v("添加")])],1)],1),a("a-drawer",{attrs:{title:"添加影院",width:720,visible:e.common.visible},on:{close:e.onClose}},[a("a-form",{attrs:{form:e.formForAdd,layout:"vertical",hideRequiredMark:""}},[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入影院名称"}]}],expression:"['name', {\n                                  rules: [{ required: true, message: '请输入影院名称' }]\n                                }]"}],attrs:{placeholder:"请输入影院名称"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"联系电话"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,message:"请输入联系电话"}]}],expression:"['phone', {\n                                  rules: [{ required: true, message: '请输入联系电话' }]\n                                }]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入联系电话"}})],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"影院地址"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["address",{rules:[{required:!0,message:"请输入地址"}]}],expression:"['address', {\n                                  rules: [{ required: true, message: '请输入地址' }]\n                                }]"}],attrs:{placeholder:"请输入地址"}})],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"营业开始"}},[a("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["openBeginTime",{rules:[{required:!0,message:"请选择开始时间"}]}],expression:"['openBeginTime', {\n                                  rules: [{ required: true, message: '请选择开始时间' }]\n                                }]"}],staticStyle:{width:"100%"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"营业结束"}},[a("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["openEndTime",{rules:[{required:!0,message:"请选择结束时间"}]}],expression:"['openEndTime', {\n                                  rules: [{ required: true, message: '请选择结束时间' }]\n                                }]"}],staticStyle:{width:"100%"}})],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"影院介绍"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{rules:[{required:!0,message:"请填写影院介绍"}]}],expression:"['description', {\n                                  rules: [{ required: true, message: '请填写影院介绍' }]\n                                }]"}],attrs:{rows:4,placeholder:"请填写影院介绍"}})],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"影院照片"}},[a("a-upload",{attrs:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:e.upload.fileList},on:{preview:e.handleUploadPreview,change:e.handleUploadChange}},[e.upload.fileList.length<5?a("div",[a("a-icon",{attrs:{type:"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v("Upload")])],1):e._e()]),a("a-modal",{attrs:{visible:e.upload.previewVisible,footer:null},on:{cancel:e.handleUploadCancel}},[a("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.upload.previewImage}})])],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"经度"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["longitude",{rules:[{required:!0,message:"Please choose the approver"}]}],expression:"['longitude', {\n                                  rules: [{ required: true, message: 'Please choose the approver' }]\n                                }]"}]})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"纬度"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["latitude",{rules:[{required:!0,message:"Please choose the dateTime"}]}],expression:"['latitude', {\n                                  rules: [{ required: true, message: 'Please choose the dateTime' }]\n                                }]"}]})],1)],1)],1)],1),a("simple-map",{attrs:{map:e.mapForAdd},on:{"select-location":e.selectLocation}}),a("div",{staticClass:"drawer-btn-wrap"},[a("a-button",{style:{marginRight:"8px"},on:{click:e.onClose}},[e._v("\n                Cancel\n            ")]),a("a-button",{attrs:{type:"primary"},on:{click:e.handleAddSubmit}},[e._v("Submit")])],1)],1),a("a-drawer",{attrs:{title:"影院位置",width:720,visible:e.common.mapVisible},on:{close:e.onMapClose}},[a("simple-map",{attrs:{map:e.mapForLook}}),a("div",{staticClass:"drawer-btn-wrap"},[a("a-button",{attrs:{type:"primary"},on:{click:e.onMapClose}},[e._v("OK")])],1)],1),a("a-table",{attrs:{columns:e.common.columns,dataSource:e.data,bordered:"",size:"middle"},scopedSlots:e._u([{key:"name",fn:function(t){return[a("a",{attrs:{href:"javascript:;"}},[e._v(e._s(t))])]}},{key:"address",fn:function(t){return[a("a",{attrs:{href:"javascript:;"},on:{click:e.showMapDrawer}},[e._v(e._s(t))])]}},{key:"status",fn:function(t){return[a("a-tag","正常"==t?{key:t,attrs:{color:"blue"}}:{key:t,attrs:{color:"red"}},[e._v(e._s(t))])]}},{key:"updateUser",fn:function(t){return[a("a",{attrs:{href:"javascript:;"}},[e._v(e._s(t))])]}},{key:"action",fn:function(t,r){return[a("a",{attrs:{href:"javascript:;","data-set":JSON.stringify(r)}},[e._v("Edit")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"}},[e._v("Delete")])]}}])})],1)},s=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[e.map.isAdd?a("a-form-item",{attrs:{label:"关键词"}},[a("a-input",{model:{value:e.map.keyword,callback:function(t){e.$set(e.map,"keyword",t)},expression:"map.keyword"}})],1):e._e()],1),a("a-col",{attrs:{span:12}},[e.map.isAdd?a("a-form-item",{attrs:{label:"地区"}},[a("a-input",{model:{value:e.map.location,callback:function(t){e.$set(e.map,"location",t)},expression:"map.location"}})],1):e._e()],1)],1),a("baidu-map",{staticClass:"map",attrs:{center:e.map.center,zoom:e.map.zoom},on:{ready:e.handler}},[a("bm-geolocation",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT",showAddressBar:!0,autoLocation:!0}}),e.map.isAdd?e._e():a("bm-marker",{attrs:{position:e.map.center,dragging:e.map.dragging,animation:"BMAP_ANIMATION_DROP"},on:{click:e.infoWindowOpen}},[a("bm-info-window",{attrs:{show:e.map.show},on:{open:e.infoWindowOpen,close:e.infoWindowClose}},[a("h3",[e._v(e._s(e.map.data.name))]),a("div",[e._v("地址："+e._s(e.map.data.address))]),a("div",[e._v("电话："+e._s(e.map.data.phone))])])],1),e.map.isAdd?a("bm-local-search",{staticClass:"search-result",attrs:{keyword:e.map.keyword,"auto-viewport":!0,location:e.map.location}}):e._e()],1)],1)},i=[],n={name:"simple-map",props:{map:{type:Object}},data:function(){return{}},methods:{handler:function(e){var t=e.BMap,a=e.map,r=this;console.log(t,a),a.enableScrollWheelZoom(!0),a.addEventListener("click",function(e){console.log(e.point.lng,e.point.lat),r.$emit("select-location",{lng:e.point.lng,lat:e.point.lat})})},infoWindowClose:function(){this.map.show=!1},infoWindowOpen:function(){this.map.show=!0}}},d=n,l=(a("071f"),a("2877")),m=Object(l["a"])(d,o,i,!1,null,"4e769150",null),c=m.exports,u={components:{SimpleMap:c},name:"cinema-list",data:function(){return{common:{visible:!1,mapVisible:!1,columns:[{title:"ID",dataIndex:"id",key:"id",scopedSlots:{customRender:"id"},width:50},{title:"影院",dataIndex:"name",key:"name",scopedSlots:{customRender:"name"}},{title:"营业时间",dataIndex:"openTime",key:"openTime",scopedSlots:{customRender:"openTime"}},{title:"地址",dataIndex:"address",key:"address",scopedSlots:{customRender:"address"}},{title:"电话",dataIndex:"phone",key:"phone",scopedSlots:{customRender:"phone"}},{title:"更新人",dataIndex:"updateUser",key:"updateUser",scopedSlots:{customRender:"updateUser"}},{title:"更新时间",dataIndex:"updateTime",key:"updateTime",scopedSlots:{customRender:"updateTime"}},{title:"状态",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}},{title:"操作",key:"action",dataIndex:"action",scopedSlots:{customRender:"action"},fixed:"right",width:100}]},upload:{previewVisible:!1,previewImage:"",fileList:[{uid:"-1",name:"xxx.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}]},mapForAdd:{center:{lng:116.307819,lat:40.059545},zoom:3,show:!0,dragging:!0,location:"北京",keyword:"百度",isAdd:!0},mapForLook:{center:{lng:116.307819,lat:40.059545},zoom:17,show:!0,dragging:!1,location:"",keyword:"",isAdd:!1,data:{name:"上海宝山万达广场店",address:"上海市宝山区一二八纪念路936号5楼（万达广场2号门 直达电梯可到）",phone:"021-31150880-810"}},submitData:{lng:null,lat:null},data:[{key:"1",id:"1",name:"上海宝山万达广场店",openTime:"9:00-1:00",address:"上海市宝山区一二八纪念路936号5楼（万达广场2号门 直达电梯可到）",phone:"021-31150880-810",updateUser:"Admin",updateTime:"2019-07-23 11:37",status:"正常"}],provinceData:[{key:0,id:0,name:"全国"},{key:1,id:1,name:"北京",updateUser:"Admin",updateTime:"2019-07-23 11:37",status:"正常"},{key:2,id:2,name:"上海",updateUser:"Admin",updateTime:"2019-07-23 11:37",status:"正常"},{key:3,id:3,name:"广州",updateUser:"Admin",updateTime:"2019-07-23 11:37",status:"正常"},{key:4,id:4,name:"深圳",updateUser:"Admin",updateTime:"2019-07-23 11:37",status:"正常"},{key:5,id:5,name:"成都",updateUser:"Admin",updateTime:"2019-07-23 11:37",status:"正常"},{key:6,id:6,name:"重庆",updateUser:"Admin",updateTime:"2019-07-23 11:37",status:"正常"},{key:7,id:7,name:"天津",updateUser:"Admin",updateTime:"2019-07-23 11:37",status:"正常"},{key:8,id:8,name:"郑州",updateUser:"Admin",updateTime:"2019-07-23 11:37",status:"正常"},{key:9,id:9,name:"杭州",updateUser:"Admin",updateTime:"2019-07-23 11:37",status:"正常"},{key:10,id:10,name:"西安",updateUser:"Admin",updateTime:"2019-07-23 11:37",status:"正常"}]}},computed:{form:function(){return this.$form.createForm(this)},formForAdd:function(){return this.$form.createForm(this)}},watch:{},mounted:function(){},methods:{handleUploadCancel:function(){this.upload.previewVisible=!1},handleUploadPreview:function(e){this.upload.previewImage=e.url||e.thumbUrl,this.upload.previewVisible=!0},handleUploadChange:function(e){var t=e.fileList;this.upload.fileList=t},handleChange:function(e){console.log("Selected: ".concat(e))},handleSubmit:function(e){e.preventDefault(),this.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})},showDrawer:function(){this.common.visible=!0},onClose:function(){this.common.visible=!1},handleAddSubmit:function(e){e.preventDefault(),this.formForAdd.validateFields(function(e,t){e||(console.log("Received values of form: ",t),console.log("time: ",t.openBeginTime.format("HH:mm:ss")))})},showMapDrawer:function(){this.common.mapVisible=!0},onMapClose:function(){this.common.mapVisible=!1},selectLocation:function(e){this.formForAdd.setFieldsValue({longitude:e.lng,latitude:e.lat})}}},p=u,f=Object(l["a"])(p,r,s,!1,null,"9a79fc6a",null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-255be21b.72c244ff.js.map